// [AIV_SHORT]  Build version: 0.4.1 - Friday, November 1st, 2019, 1:22:26 PM  
 (window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"1tTY":function(t,e){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}var o=function(){function e(t){r(this,e),this.commands=t||[]}return i(e,[{key:"add",value:function(t){this.commands.push(t)}},{key:"toArray",value:function(){return this.commands.reduce(function(t,e){return t.concat(e.toArray())},[])}},{key:"length",get:function(){return this.commands.length}}]),e}(),n=function(){function n(t,e){r(this,n),this.number=t,this.clr=e}return i(n,[{key:"toArray",value:function(){return Array(this.number).fill(this.clr)}}]),n}(),c=function(){function n(t,e){r(this,n),this.number=t||1,this.program=new o(e||[])}return i(n,[{key:"add",value:function(t){this.program.add(t)}},{key:"toArray",value:function(){return Array(this.number).fill(this.program.toArray()).flat()}}]),n}(),s=function(){function t(){r(this,t)}return i(t,[{key:"toArray",value:function(){return[null]}}]),t}();t.exports={Loop:c,Newline:s,Pixel:n,Sequence:o}},"231I":function(t,e,n){"use strict";var r={b:[0,0,255],r:[255,0,0],g:[0,255,0],gr:[80,80,80],y:[255,255,0],pu:[255,0,255],o:[255,125,0],c:[0,255,255],w:[255,255,255],k:[0,0,0],br:[125,80,0],pi:[255,80,125]},a={size:20,frameRate:16,clrs:r},i={id:null,updated:0,name:"Jump Man",text:"10[c g];\n10[g c];\n3[c g]     6r                    4[c g];\n2[g c] g   10r                   c 2[g c];\n2[c g] c   3br 3y k y            g 3[c g];\n2[g c]     br y br 4y k 3y       c 2[g c];\n2[c g]     br y 2br 4y k 3y      2[c g];\n2[g c]     2br 5y 4k             c 2[g c];\n3[c g]     8y                    3[c g];\n2[g c] g   2r b 2r b r           4[g c];\n2[c g]     3r b 2r b 3r          3[c g];\ng c g      4r 4b 4r              c 2[g c];\nc g c      2y r b o 2b o b r 2y  g 2[c g];\ng c g      3y 6b 3y              c 2[g c];\nc g c      2y 8b 2y              g 2[c g];\n2[g c] g   3b g c 3b             c 3[g c];\n2[c g]     3k 2[g c] 3k          3[c g];\ng c g      4k 2[c g] 4k          c 2[g c];\n2[5[2gr 2br];]",settings:a};t.exports={program:i,settings:a,clrs:r}},"28Ky":function(t,e,n){"use strict";var r=n("k52t");n.n(r).a},"2pTP":function(t,e,n){},"3ERx":function(t,e,n){},"4OvJ":function(t,e){var a=function(r){return new Promise(function(n,t){var e=new FileReader;e.onload=function(t){var e={name:r.name,body:t.target.result};n(e)},e.readAsText(r)})};t.exports={array_last:function(t){return t[t.length-1]},debounce:function(n,r){var a;return function(){var t=this,e=arguments;clearTimeout(a),a=setTimeout(function(){return n.apply(t,e)},r)}},escape:function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},pushDownload:function(t,e){var n=new Blob([e],{type:"text/plain"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,t);else{var r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}},openFile:function(t){var e=t.accept,r=document.createElement("input");return r.type="file",r.accept=e,new Promise(function(n,t){r.onchange=function(t){var e=t.target.files[0];return a(e).then(n)},document.body.appendChild(r),r.click(),document.body.removeChild(r)})}}},IYIw:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){var n="function"==typeof Map?new Map:void 0;return(a=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return i(t,arguments,c(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o(e,t)})(t)}function i(t,e,n){return(i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var a=new(Function.bind.apply(t,r));return n&&o(a,n.prototype),a}).apply(null,arguments)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,c(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(t,a(Error)),t}();t.exports={ParseError:s}},UGaS:function(t,e){function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function _(t){var e=t.match(/^[!@$]([a-zA-Z_]+):\s*(.+)$/);return{key:e[1],value:e[2]}}var c=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;i(this,e),t=t||{},this.id=t.id||null,this.name=t.name||"Untitled",this.updated=t.updated||null,this.text=t.text||"";this.settings=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},{frameRate:16,size:20,clrs:{}},{},t.settings)}return n(e,null,[{key:"parse",value:function(t){return new e(function(t){var e,n,r,a,i,o,c,s,l,u,p,f,d,h={settings:{clrs:{}}},g={__VERSION__:window.__VERSION__},v=[],m=!1,b=!0,y=!1,w=void 0;try{for(var O,x=t.split("\n")[Symbol.iterator]();!(b=(O=x.next()).done);b=!0){var P=O.value;if("==="===P)m=!m;else if(m)v.push(P);else if(P)switch(P[0]){case"!":u=g,void 0,p=_(P),f=p.key,d=p.value,u["__".concat(f,"__")]=d;break;case"@":o=h.settings,void 0,c=_(P),s=c.key,l=c.value,o[s]=JSON.parse(l);break;case"$":e=h.settings.clrs,a=void 0,n=_(P),r=n.key,a=n.value,i=a.match(/^(\d+),\s*(\d+),\s*(\d+)$/),e[r]=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])]}}}catch(t){y=!0,w=t}finally{try{b||null==x.return||x.return()}finally{if(y)throw w}}return h.text=v.join("\n"),h}(t))}}]),n(e,[{key:"clone",value:function(){return JSON.parse(JSON.stringify(this))}},{key:"toString",value:function(){for(var t=["!VERSION: ".concat(window.__VERSION__),""],e=0,n=Object.entries(this.settings);e<n.length;e++){var r=p(n[e],2),a=r[0],i=r[1];"clrs"!==a&&{}.hasOwnProperty.call(this.settings,a)&&t.push("@".concat(a,": ").concat(i))}t.push("");for(var o=0,c=Object.entries(this.clrs);o<c.length;o++){var s=p(c[o],2),l=s[0],u=s[1];!{}.hasOwnProperty.call(this.clrs,l)||t.push("$".concat(l,": ").concat(u.toString()))}return t.push(""),t.push("==="),t.push(this.text),t.push("==="),t.join("\n")}},{key:"clrs",get:function(){return this.settings.clrs}}]),e}(),s=function(){function r(t,e,n){i(this,r),this.r=t,this.g=e,this.b=n}return n(r,[{key:"toArray",value:function(){return[this.r,this.g,this.b]}},{key:"toString",value:function(){return this.toArray().join("\n")}}]),r}();t.exports={Clr:s,Program:c}},VQ0Q:function(t,e,n){},Vtdi:function(t,e,n){"use strict";n.r(e);var r=n("XfhM"),a=n.n(r),i=n("7O5W"),o=n("muhD"),c=n("a0qU"),s=n("W21E"),l=n("fCwp"),u=n("DuTs"),p=n("Qjxm"),f=n("IAcK"),d=n("KHd+"),h=Object(d.a)({},function(){var t=this.$createElement;return(this._self._c||t)("router-view")},[],!1,null,null,null).exports,g=n("jE9Z"),v={computed:{path:function(){return this.$route.path},isCodeRoute:function(){return"/"===this.path||"/code"===this.path},isAboutRoute:function(){return"/about"===this.path},isReferenceRoute:function(){return"/ref"===this.path}}},m=(n("28Ky"),Object(d.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-component"},[n("div",{staticClass:"tabs is-boxed"},[n("ul",[n("li",{class:{"is-active":t.isCodeRoute}},[n("router-link",{attrs:{to:"code"}},[t._v("\n          Code\n        ")])],1),t._v(" "),n("li",{class:{"is-active":t.isAboutRoute}},[n("router-link",{attrs:{to:"about"}},[t._v("\n          About\n        ")])],1),t._v(" "),n("li",{class:{"is-active":t.isReferenceRoute}},[n("router-link",{attrs:{to:"ref"}},[t._v("\n          Reference\n        ")])],1)])]),t._v(" "),n("div",{staticClass:"box"},[n("router-view")],1)])},[],!1,null,null,null).exports),b={props:{clrs:{type:Object,default:function(){}}}},y=(n("jQHa"),Object(d.a)(b,function(){var n=this,t=n.$createElement,r=n._self._c||t;return r("div",{staticClass:"clr-table"},n._l(n.clrs,function(t,e){return r("span",{key:e,style:{border:"10px solid rgb("+t.join(",")+")"}},[n._v("\n    "+n._s(e)+"\n  ")])}),0)},[],!1,null,null,null).exports),w=n("L2JU");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach(function(t){P(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _={components:{"pixel-clr-table":y},props:{value:{type:Object,default:function(){return{size:0,clrs:{},frameRate:0}}}},computed:x({},Object(w.c)(["syntaxHighlighting"])),methods:x({},Object(w.b)(["updateSyntaxHighlighting"]),{updateSize:function(t){var e=JSON.parse(JSON.stringify(this.value));e.size=t,this.$emit("input",e)},updateFrameRate:function(t){var e=JSON.parse(JSON.stringify(this.value));e.frameRate=parseInt(t),this.$emit("input",e)}})},j=Object(d.a)(_,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("label",{staticClass:"label",attrs:{for:"clr-table"}},[e._v("\n        Available colours\n      ")]),e._v(" "),n("pixel-clr-table",{attrs:{id:"clr-table",clrs:e.value.clrs}})],1)]),e._v(" "),n("div",{staticClass:"field"},[n("span",{staticClass:"control"},[n("label",{staticClass:"label",attrs:{for:"size-input"}},[e._v("\n        Number of pixels\n      ")]),e._v(" "),n("input",{staticClass:"input",attrs:{id:"size-input",type:"number"},domProps:{value:e.value.size},on:{input:function(t){return e.updateSize(t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"field"},[n("span",{staticClass:"control"},[n("label",{staticClass:"label",attrs:{for:"frame-rate-input"}},[e._v("\n        Frame Rate\n      ")]),e._v(" "),n("input",{staticClass:"slider",attrs:{id:"frame-rate-input",type:"range",step:"1",min:"1",max:"60"},domProps:{value:e.value.frameRate},on:{input:function(t){return e.updateFrameRate(t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"field"},[n("span",{staticClass:"control"},[n("label",{staticClass:"checkbox"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.syntaxHighlighting},on:{input:function(t){return e.updateSyntaxHighlighting(t.target.checked)}}}),e._v("\n        Syntax Highlighting On\n      ")])])])])},[],!1,null,null,null).exports,S={props:{width:{type:Number,default:400},height:{type:Number,default:400},size:{type:Number,default:20},frameRate:{type:Number,default:14}},data:function(){return{context:null,nextFunc:null}},mounted:function(){this.context=this.$el.getContext("2d"),this.context.strokeStyle="#ababab",this.renderPicture(this.size,this.frameRate)},methods:{render:function(t){this.nextFunc&&clearTimeout(this.nextFunc),this.renderPicture(this.size,this.frameRate,t)},renderPicture:function(t,e,n){var r=2<arguments.length&&void 0!==n?n:null;if(this.context.clearRect(0,0,this.width,this.height),this.renderGrid(t),r){var a=this.width/t;this.renderNextPixel(r,a,e)}},renderGrid:function(t){var e=this.width/t;this.context.beginPath(),this.context.lineWidth=.5;for(var n=0;n<=t;n++)this.context.moveTo(0,n*e),this.context.lineTo(this.width,n*e),this.context.moveTo(n*e,0),this.context.lineTo(n*e,this.height);this.context.stroke()},renderNextPixel:function(t,e,n,r,a){for(var i,o=this,c=3<arguments.length&&void 0!==r?r:0,s=4<arguments.length&&void 0!==a?a:0;t.length&&!(i=t.shift());)c++,s=0;i&&(this.renderPixel(i,e,c,s),s++,this.nextFunc=setTimeout(function(){o.renderNextPixel(t,e,n,c,s)},1e3/n))},renderPixel:function(t,e,n,r){this.context.fillStyle="rgb(".concat(t.join(","),")"),this.context.fillRect(r*e+.5,n*e+.5,e-1,e-1)}}},k=Object(d.a)(S,function(){var t=this.$createElement;return(this._self._c||t)("canvas",{attrs:{width:this.width,height:this.height}})},[],!1,null,null,null).exports,C=function t(e,n){var r=0,a=!0,i=!1,o=void 0;try{for(var c,s=e.childNodes[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value,u=l.length||l.innerText.length;if(n<=r+u)return l.nodeType!==Node.TEXT_NODE?t(l,n-r):E(l,n-r);r+=u}}catch(t){i=!0,o=t}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}},E=function(t,e){var n=document.createRange();return n.setStart(t,e),n.collapse(!0),n},R={props:{value:{type:String,default:""}},methods:{handleInput:function(t){var e=this,n=this.getCaretPosition();this.$emit("input",t.target.innerHTML),this.$nextTick(function(){return e.setCaret(n)})},getCaretPosition:function(){return function(t){var e=document.getSelection().getRangeAt(0),n=e.cloneRange();return n.selectNodeContents(t),n.setEnd(e.endContainer,e.endOffset),n.toString().length}(this.$el)},setCaret:function(t){!function(t,e){var n=document.getSelection(),r=C(t,e);n.removeAllRanges(),n.addRange(r)}(this.$el,t)}}},N=Object(d.a)(R,function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"program-input textarea",attrs:{contenteditable:"true"},domProps:{innerHTML:t._s(t.value)},on:{input:t.handleInput}})},[],!1,null,null,null).exports;function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D={components:{"pixel-editable":N},props:{value:{type:String,default:""},clrs:{type:Object,default:function(){return{}}}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach(function(t){A(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Object(w.c)(["syntaxHighlighting"]),{formattedValue:function(){var r=this;return this.value.replace(/\d*([a-z]+)/g,function(t,e){if(!{}.hasOwnProperty.call(r.clrs,e))return t.replace(/.{1,5}/g,'<span class="err">$&</span>');if(r.syntaxHighlighting){var n=r.clrs[e];return'<span style="color: '.concat(function(t){return"rgb(".concat(t.map(function(t){return.75*t}).join(","),")")}(n),';">').concat(t,"</span>")}return t})}}),methods:{handleInput:function(t){var e=t.replace(/<.+?>/g,"");this.$emit("input",e)}}},$=(n("WNPU"),Object(d.a)(D,function(){var t=this.$createElement;return(this._self._c||t)("pixel-editable",{attrs:{value:this.formattedValue},on:{input:this.handleInput}})},[],!1,null,null,null).exports),T={props:{title:{type:String,default:""}},methods:{close:function(){this.$emit("close")}}},F={components:{Modal:Object(d.a)(T,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal is-active"},[n("div",{staticClass:"modal-background",on:{click:t.close}}),t._v(" "),n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v("\n        "+t._s(t.title)+"\n      ")]),t._v(" "),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.close}})]),t._v(" "),n("section",{staticClass:"modal-card-body"},[t._t("default")],2),t._v(" "),n("footer",{staticClass:"modal-card-foot"},[t._t("footer",[n("button",{staticClass:"button is-danger",on:{click:t.close}},[t._v("\n          Cancel\n        ")])])],2)])])},[],!1,null,null,null).exports},props:{options:{type:Array,default:function(){return[]}}},data:function(){return{selection:""}},methods:{load:function(){this.$emit("input",this.selection)},close:function(){this.$emit("close")}}},H=Object(d.a)(F,function(){var r=this,t=r.$createElement,a=r._self._c||t;return a("Modal",{ref:"modal",attrs:{title:"Choose a file"},on:{close:r.close},scopedSlots:r._u([{key:"footer",fn:function(){return[a("button",{staticClass:"button is-success",on:{click:r.load}},[r._v("\n      Load\n    ")])]},proxy:!0}])},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:r.selection,expression:"selection"}],on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});r.selection=t.target.multiple?e:e[0]}}},r._l(r.options,function(t){var e=t.id,n=t.name;return a("option",{key:e,domProps:{value:e}},[r._v("\n        "+r._s(n)+"\n      ")])}),0)])])},[],!1,null,null,null).exports,U={props:{buttons:{type:Array,default:function(){return[]}}},methods:{handleClick:function(t){t.call()}}},L=(n("t1HX"),Object(d.a)(U,function(){var n=this,t=n.$createElement,r=n._self._c||t;return r("div",{staticClass:"field toolbar is-pulled-right"},n._l(n.buttons,function(e,t){return r("a",{key:t,staticClass:"button icon is-medium",attrs:{title:e.title,disabled:!!e.disabled&&e.disabled()},on:{click:function(t){return n.handleClick(e.action)}}},[r("i",{staticClass:"fas",class:"fa-"+e.icon})])}),0)},[],!1,null,null,null).exports),z=n("231I"),M=n.n(z),V=n("4OvJ"),J=n("UGaS"),B=n("XFhw"),G=n("1tTY"),Q=n.n(G),X=n("IYIw");function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var W=function(){function n(t,e){if(!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),!(t instanceof RegExp))throw new TypeError("First argument to `Rule` must be RegExp");this._pattern=t,this.pattern=new RegExp("^".concat(t.source,"$")),this.action=e}return function(t,e,n){e&&K(t.prototype,e),n&&K(t,n)}(n,[{key:"appliesTo",value:function(t){return this.pattern.test(t)}},{key:"match",value:function(t){return t.match(this.pattern)}},{key:"apply",value:function(t){this.action(t)}}],[{key:"merge",value:function(t,e){var n=t.map(function(t){return t._pattern.source});return new RegExp(n.join("|"),e)}}]),n}(),Y=[new W(/(\d*)([a-z]+)/,function(t){var e=t.stack,n=t.matchData,r=parseInt(n[1]||1),a=n[2];Object(V.array_last)(e).add(new Q.a.Pixel(r,a))}),new W(new RegExp("(\\d*)".concat(Object(V.escape)(B.BEGIN_LOOP))),function(t){var e=t.stack,n=t.matchData,r=parseInt(n[1]||1),a=new Q.a.Loop(r);Object(V.array_last)(e).add(a),e.push(a)}),new W(new RegExp(Object(V.escape)(B.END_LOOP)),function(t){var e=t.stack;if(!(Object(V.array_last)(e)instanceof Q.a.Loop))throw new X.ParseError('Unexpected "]"');e.pop()}),new W(new RegExp(Object(V.escape)(B.END_OF_LINE)),function(t){var e=t.stack;Object(V.array_last)(e).add(new Q.a.Newline)}),new W(/\S+/,function(t){var e=t.token;throw new X.ParseError("Unexpected token '".concat(e,"'"))})],q=W.merge(Y,"g"),Z=function(t){return function(t){var r=[new G.Sequence];if(t.forEach(function(e){var t=Y.find(function(t){return t.appliesTo(e)});if(!t)throw new X.ParseError("Unknown token ".concat(e));var n=t.match(e);t.apply({stack:r,token:e,matchData:n})}),1<r.length)throw new X.ParseError("Unmatched '".concat(B.BEGIN_LOOP,"'"));return r[0]}(function(t){return Array.from(t.matchAll(q)).map(function(t){return t[0]})}(t))};function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(n,!0).forEach(function(t){nt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rt={components:{"pixel-side-panel":j,"pixel-sketch":k,"pixel-editor":$,"pixel-file-select":H,"pixel-toolbar":L},data:function(){var t=this;return{panelShown:!0,showFileSelect:!1,errorMessage:null,dirty:!1,program:null,toolbarButtons:[{icon:"plus",title:"New",action:this.createNew},{icon:"save",title:"Save",action:this.save,disabled:function(){return!t.dirty}},{icon:"folder-open",title:"Load",action:this.handleOpenClicked,disabled:function(){return 0===t.allPrograms.length}},{icon:"copy",title:"Duplicate",action:this.duplicate,disabled:function(){return null===t.program.id}},{icon:"download",title:"Download",action:this.handleDownload},{icon:"upload",title:"Upload",action:function(){return t.handleUpload()}}]}},computed:et({},Object(w.c)("programs",["allPrograms","maxId","lastProgram"]),{},Object(w.c)(["autoSave"])),created:function(){this.program=new J.Program(this.lastProgram),this.dirty=!1},mounted:function(){this.render()},methods:et({},Object(w.b)("programs",["saveProgram","tapProgram","updateAutoSave"]),{},Object(w.b)(["updateAutoSave"]),{render:function(){var t=this.parse(this.program.text);t&&this.$refs.sketch.render(t)},handleInput:function(){this.errorMessage=null,this.validate(this.program.text),this.handleChange()},handlePanelInput:function(){this.handleChange()},handleChange:function(){this.dirty=!0,this.autoSave&&this.save()},handleDownload:function(){var t=this.program.name+".pxl",e=this.program.toString();Object(V.pushDownload)(t,e)},handleUpload:function(){var n=this;Object(V.openFile)({accept:".pxl"}).then(function(t){if(!n.dirty||confirm("Unsaved changes. Continue?")){var e=J.Program.parse(t.body);e.name=t.name.match(/^(.*)\..*$/)[1],n.program=e}})},validate:Object(V.debounce)(function(t){try{var e=Z(t).toArray(),n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value;if(c&&!{}.hasOwnProperty.call(this.program.settings.clrs,c)){this.errorMessage="Unknown colour '".concat(c,"'");break}}}catch(t){r=!0,a=t}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}}catch(t){this.errorMessage=t.message}},500),parse:function(t){var e=this,n=Z(t).toArray();return n.some(function(t){return t&&!{}.hasOwnProperty.call(e.program.settings.clrs,t)})?null:n.map(function(t){return e.program.settings.clrs[t]})},createNew:function(){this.dirty&&!confirm("Unsaved changes. Continue?")||(this.program=new J.Program)},duplicate:function(){if(!this.dirty||confirm("Unsaved changes. Continue?")){var t=this.program.clone();t.id=null,t.name+=" (2)",this.program=t}},save:function(){this.program.id||(this.program.id=this.maxId+1),this.saveProgram(this.program),this.dirty=!1},handleOpenClicked:function(){this.showFileSelect=!0},handleLoadProgram:function(e){this.showFileSelect=!1,this.tapProgram(e);var t=this.allPrograms.find(function(t){return t.id===e});this.program=new J.Program(t)}})},at=Object(d.a)(rt,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-narrow"},[n("div",{staticStyle:{"min-width":"1em"}},[n("a",{staticClass:"icon can-rotate",class:{rotated:!e.panelShown},attrs:{title:e.panelShown?"Hide Panel":"Show Panel"},on:{click:function(t){e.panelShown=!e.panelShown}}},[n("i",{staticClass:"fas fa-chevron-right"})]),e._v(" "),n("transition",{attrs:{name:"slide-fade"}},[e.panelShown?n("div",[n("pixel-side-panel",{on:{input:e.handlePanelInput},model:{value:e.program.settings,callback:function(t){e.$set(e.program,"settings",t)},expression:"program.settings"}})],1):e._e()])],1)]),e._v(" "),n("div",{staticClass:"column program-container"},[n("pixel-toolbar",{attrs:{buttons:e.toolbarButtons}}),e._v(" "),n("div",{staticClass:"field"},[n("span",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.program.name,expression:"program.name"}],staticClass:"input",domProps:{value:e.program.name},on:{input:function(t){t.target.composing||e.$set(e.program,"name",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"field"},[n("pixel-editor",{attrs:{clrs:e.program.settings.clrs},on:{input:e.handleInput},model:{value:e.program.text,callback:function(t){e.$set(e.program,"text",t)},expression:"program.text"}}),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage,expression:"errorMessage"}],staticClass:"has-text-danger"},[e._v("\n            Error: "+e._s(e.errorMessage)+"\n          ")]),e._v(" "),n("div",{staticClass:"field"},[n("span",{staticClass:"control"},[n("label",{staticClass:"checkbox"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.autoSave},on:{input:function(t){return e.updateAutoSave(t.target.checked)}}}),e._v("\n                Auto Save\n              ")])])])],1)],1)])]),e._v(" "),n("div",{staticClass:"column is-narrow"},[n("div",{staticClass:"field"},[n("button",{staticClass:"draw-button button is-success",attrs:{disabled:e.errorMessage},on:{click:e.render}},[e._v("\n        Draw!\n      ")])]),e._v(" "),n("pixel-sketch",{ref:"sketch",attrs:{size:e.program.settings.size,"frame-rate":e.program.settings.frameRate}})],1),e._v(" "),n("pixel-file-select",{directives:[{name:"show",rawName:"v-show",value:e.showFileSelect,expression:"showFileSelect"}],attrs:{options:e.allPrograms.map(function(t){return{id:t.id,name:t.name}})},on:{close:function(t){e.showFileSelect=!1},input:function(t){return e.handleLoadProgram(t)}}})],1)},[],!1,null,null,null).exports;a.a.use(g.a);var it=[{path:"/",component:m,children:[{path:"code",component:at},{path:"about",component:function(){return n.e(19).then(n.bind(null,"Jy+K"))}},{path:"ref",component:function(){return n.e(18).then(n.bind(null,"HpAP"))}},{path:"*",component:at}]}],ot=new g.a({routes:it,linkActiveClass:"active"}),ct=n("58oi"),st=n.n(ct);function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ut(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pt={namespaced:!0,state:{all:[]},getters:{allPrograms:function(t){return t.all},maxId:function(t){return t.all.reduce(function(t,e){return Math.max(t,e.id)},0)},lastProgram:function(t){return t.all.reduce(function(t,e){return t.updated>e.updated?t:e},M.a.program)}},actions:{saveProgram:function(t,e){(0,t.commit)("saveProgram",{data:e})},tapProgram:function(t,e){(0,t.commit)("tapProgram",{id:e})}},mutations:{saveProgram:function(t,e){var n=e.data;n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(n,!0).forEach(function(t){ut(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n,{updated:Date.now()});var r=t.all.findIndex(function(t){return t.id===n.id});r<0?t.all.push(n):t.all[r]=n},tapProgram:function(t,e){var n=e.id;t.all.find(function(t){return t.id===n}).updated=Date.now()}}},ft={namespaced:!1,state:{__VERSION__:"0.4.1",autoSave:!1,syntaxHighlighting:!0},getters:{autoSave:function(t){return t.autoSave},syntaxHighlighting:function(t){return t.syntaxHighlighting}},actions:{updateAutoSave:function(t,e){(0,t.commit)("updateAutoSave",{value:e})},updateSyntaxHighlighting:function(t,e){(0,t.commit)("updateSyntaxHighlighting",{value:e})}},mutations:{updateAutoSave:function(t,e){var n=e.value;t.autoSave=n},updateSyntaxHighlighting:function(t,e){var n=e.value;t.syntaxHighlighting=n}}},dt="pixel-drawing",ht=JSON.parse(localStorage.getItem(dt));ht&&!{}.hasOwnProperty.call(ht,"programs")&&localStorage.removeItem(dt),a.a.use(w.a);var gt=new st.a({key:dt,storage:window.localStorage}),vt=new w.a.Store({modules:{global:ft,programs:pt},plugins:[gt.plugin],strict:!1});window.__VERSION__="0.4.1",n("3ERx"),i.b.add(o.faChevronRight,c.faCopy,s.faDownload,l.faFolderOpen,u.faPlus,p.faSave,f.faUpload),i.a.watch(),new a.a({el:"#app",render:function(t){return t(h)},router:ot,store:vt})},WNPU:function(t,e,n){"use strict";var r=n("gtha");n.n(r).a},XFhw:function(t,e){t.exports={BEGIN_LOOP:"[",END_LOOP:"]",END_OF_LINE:";"}},gtha:function(t,e,n){},jQHa:function(t,e,n){"use strict";var r=n("2pTP");n.n(r).a},k52t:function(t,e,n){},t1HX:function(t,e,n){"use strict";var r=n("VQ0Q");n.n(r).a}},[["Vtdi",0,5,16,4,6,7,9,10,12,13,11,15,14]]]); 